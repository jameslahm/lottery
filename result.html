<!DOCTYPE html>
<html>
	<head>
		<meta name="screen-orientation" content="portrait" />
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0"
		/>
		<title>抽奖小程序</title>
		<link rel="stylesheet" type="text/css" href="css/reset.css" />
		<link rel="stylesheet" type="text/css" href="css/wall.css" />
		<style type="text/css">
			.wall {
				overflow: scroll;
				background-repeat: repeat;
			}
			::-webkit-scrollbar {
				display: none;
			}
			body,
			html {
				width: 100%;
				height: 100%;
			}
			.mask {
				-webkit-filter: blur(5px);
				filter: blur(5px);
			}
			#main {
				-webkit-transition: all 1s;
				transition: all 1s;
			}
			.result-list {
				text-align: center;
				font-size: 30px;
				line-height: 50px;
				margin-top: 50px;
				margin-bottom: 50px;
				font-family: '幼圆';
        color: #0f0f0f;
        display: inline-block;
        margin-right: 30px;
        margin-left: 60px;
			}
			.result-title {
        color: #0f0f0f;
				text-align: center;
				font-size: 40px;
				margin-top: 100px;
				font-family: '幼圆';
			}
      .isDeleted{
        text-decoration: line-through;
      }
		</style>
	</head>
	<body>
		<div id="main" class="wall">
			<div class="result-title">获奖名单</div>
    <div class="result-list" :class={isDeleted:!states[i]} v-for="(item,i) in results" @click="toggle(i)">
				<div>{{item}}</div>
			</div>
		</div>
		<script type="text/javascript" src="js/vue.js"></script>
		<script type="text/javascript">
			new Vue({
				el: '#main',
				data: {
          results: [],
          states:[]
				},
				mounted() {
					let locals = window.localStorage

					let choosed = localStorage.getItem('choosed')
					let results = []

					if (choosed) {
            choosed=JSON.parse(choosed)
						results = Object.keys(choosed)
					}
					// 分割每个string, 并将</br>换成空格

					// 根据长度进行排序，名单短的放在前面
					results = results.sort((x, y) => {
						return x - y
          })
          console.log(results)
          this.results = results
          this.states=this.results.map(()=>{return true})
        },
        methods:{
          toggle(i){
            this.$set(this.states,i,!this.states[i])
          }
        }
			})
		</script>
	</body>
</html>
